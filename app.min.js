var MicroEventEmitter=Object.create({},{events:{value:{}},on:{value:function(a,c){this.events[a]=this.events[a]||[];this.events[a].push(c)}},fire:{value:function(a){if(a in this.events!==!1)for(var c=this.events[a],b=0;b<c.length;b++)c[b].apply(this,Array.prototype.slice.call(arguments,1))}}}),AudioEl=Object.create({},{version:{value:0.5},newAudio:{value:function(a,c){var b=Object.create(AudioEl.Audio);b.init(a,c);return b}},Audio:{value:Object.create(MicroEventEmitter,{init:{value:function(a,c){var b=
this,c=c||{};this.el=document.getElementById(a);c.url&&this.el.setAttribute("src",c.url);if(c.volume)this.volume=c.volume;this.el.addEventListener("play",function(){b.fire("started")});this.el.addEventListener("timeupdate",function(){b.fire("updated",b.duration,b.time)});this.el.addEventListener("volumechange",function(){b.fire("volumechange")});this.el.addEventListener("pause",function(){b.fire("paused")});this.el.addEventListener("ended",function(){b.fire("finished")});return this}},play:{value:function(a){a&&
this.el.setAttribute("src",a);this.el.play()}},pause:{value:function(){this.el.pause()}},isPaused:{value:function(){return this.el.paused}},stop:{value:function(){this.pause();this.el.currentTime=0;this.fire("stopped")}},isFinished:{value:function(){return this.el.ended}},volumeOn:{value:function(){this.el.muted=!1}},volumeOff:{value:function(){this.el.muted=!0}},toggleVolume:{value:function(){this.el.muted=!this.el.muted}},isVolumeOn:{value:function(){return this.el.muted!==!0}},volume:{get:function(){return this.el.volume},
set:function(a){a<0&&(a=0);a>1&&(a=1);this.el.volume=a}},duration:{get:function(){return this.el.duration}},time:{get:function(){return this.el.currentTime},set:function(a){this.el.currentTime=a}},percent:{get:function(){return this.time/this.duration*100}},hours:{get:function(){var a=Math.floor(this.time/3600,10);return isNaN(a)?0:a}},minutes:{get:function(){var a=Math.floor((this.time-this.hours*3600)/60,10);return isNaN(a)?0:a}},seconds:{get:function(){return parseInt(this.time-this.hours*3600-
this.minutes*60,10)}},timeCounter:{get:function(){var a=this.hours,c=this.minutes,b=this.seconds;return a>0?a+":"+(c>9?c:"0"+c)+":"+(b>9?b:"0"+b):c+":"+(b>9?b:"0"+b)}}})}});
